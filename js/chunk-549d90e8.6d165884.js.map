{"version":3,"sources":["webpack:///./src/views/example/toolbar.vue?79da","webpack:///src/views/example/toolbar.vue","webpack:///./src/views/example/toolbar.vue?f388","webpack:///./src/views/example/toolbar.vue","webpack:///./src/views/example/toolbar.vue?0f95"],"names":["render","_vm","this","_h","$createElement","_c","_self","ref","staticClass","staticRenderFns","toolbarvue_type_script_lang_js_","name","data","model","graph","methods","addToolbarItem","toolbar","prototype","image","funct","evt","cell","x","y","stopEditing","vertex","getModel","cloneCell","geometry","addCell","setSelectionCell","img","addMode","pt","getPointForEvent","mxClient","addListener","enabled","consume","makeDraggable","mounted","_this","tbContainer","document","createElement","style","position","overflow","padding","left","top","width","bottom","$refs","container","appendChild","right","background","setConnectable","setMultigraph","addVertex","icon","w","h","setVertex","getSelectionModel","CHANGE","tmp","isSelectionEmpty","setOpacity","example_toolbarvue_type_script_lang_js_","component","Object","componentNormalizer","__webpack_exports__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_toolbar_vue_vue_type_style_index_0_id_50407f35_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0__","__webpack_require__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_6_oneOf_1_0_node_modules_css_loader_index_js_ref_6_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_6_oneOf_1_2_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_toolbar_vue_vue_type_style_index_0_id_50407f35_scoped_true_lang_css___WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"uHAAA,IAAAA,EAAA,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,IAAA,YAAAC,YAAA,uBAC1GC,EAAA,eCeAC,EAAA,CACAC,KAAA,aACAC,KAFA,WAGA,OACAC,MAAA,KACAC,MAAA,OAGAC,QAAA,CACAC,eADA,SACAF,EAAAG,EAAAC,EAAAC,GACA,IAAAC,EAAA,SAAAN,EAAAO,EAAAC,EAAAC,EAAAC,GACAV,EAAAW,aAAA,GACA,IAAAC,EAAAZ,EAAAa,WAAAC,UAAAV,GAEAQ,EAAAG,SAAAN,IACAG,EAAAG,SAAAL,IAEAV,EAAAgB,QAAAJ,GACAZ,EAAAiB,iBAAAL,IAEAM,EAAAf,EAAAgB,QAAA,KAAAd,EAAA,SAAAE,EAAAC,GACA,IAAAY,EAAAhC,KAAAY,MAAAqB,iBAAAd,GAEAD,EAAAN,EAAAO,EAAAC,EAAAY,EAAAX,EAAAW,EAAAV,KASA,OANAY,EAAA,WAAAC,YAAAL,EAAA,qBAAAX,IACA,IAAAW,EAAAM,SACAF,EAAA,WAAAG,QAAAlB,KAGAe,EAAA,WAAAI,cAAAR,EAAAlB,EAAAM,GACAY,IAGAS,QAnCA,WAmCA,IAAAC,EAAAxC,KAEAyC,EAAAC,SAAAC,cAAA,OAEAF,EAAAG,MAAAC,SAAA,WACAJ,EAAAG,MAAAE,SAAA,SACAL,EAAAG,MAAAG,QAAA,MACAN,EAAAG,MAAAI,KAAA,MACAP,EAAAG,MAAAK,IAAA,MACAR,EAAAG,MAAAM,MAAA,OACAT,EAAAG,MAAAO,OAAA,MACAnD,KAAAoD,MAAAC,UAAAC,YAAAb,GAEA,IAAA1B,EAAA,IAAAmB,EAAA,aAAAO,GAEA1B,EAAAqB,SAAA,EAEA,IAAAiB,EAAAX,SAAAC,cAAA,OAEAU,EAAAT,MAAAC,SAAA,WACAQ,EAAAT,MAAAE,SAAA,SACAO,EAAAT,MAAAI,KAAA,OACAK,EAAAT,MAAAK,IAAA,MACAI,EAAAT,MAAAW,MAAA,MACAF,EAAAT,MAAAO,OAAA,MACAE,EAAAT,MAAAY,WAAA,mCACAxD,KAAAoD,MAAAC,UAAAC,YAAAD,GACArD,KAAAW,MAAA,IAAAuB,EAAA,gBACAlC,KAAAY,MAAA,IAAAsB,EAAA,WAAAmB,EAAArD,KAAAW,OACAX,KAAAY,MAAA6C,gBAAA,GACAzD,KAAAY,MAAA8C,eAAA,GAEA,IAAAC,EAAA,SAAAC,EAAAC,EAAAC,EAAAlB,GACA,IAAApB,EAAA,IAAAU,EAAA,mBAAAA,EAAA,kBAAA2B,EAAAC,GAAAlB,GAEApB,EAAAuC,WAAA,GACA,IAAAjC,EAAAU,EAAA1B,eAAA0B,EAAA5B,MAAAG,EAAAS,EAAAoC,GAEA9B,EAAAM,SAAA,EACAI,EAAA5B,MAAAoD,oBAAA7B,YAAAD,EAAA,WAAA+B,OAAA,WACA,IAAAC,EAAA1B,EAAA5B,MAAAuD,mBAEAjC,EAAA,WAAAkC,WAAAtC,EAAAoC,EAAA,QACApC,EAAAM,QAAA8B,KAIAP,EAAA,4CACAA,EAAA,uDACAA,EAAA,sDACAA,EAAA,sDACAA,EAAA,wDACAA,EAAA,wDACAA,EAAA,oDCxGgWU,EAAA,0BCQhWC,EAAgBC,OAAAC,EAAA,KAAAD,CACdF,EACAvE,EACAS,GACF,EACA,KACA,WACA,MAIekE,EAAA,WAAAH,sECnBf,IAAAI,EAAAC,EAAA,QAAAC,EAAAD,EAAAE,EAAAH,GAAqfE,EAAG","file":"js/chunk-549d90e8.6d165884.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{ref:\"container\",staticClass:\"m_graph_container\"})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <div ref=\"container\" class=\"m_graph_container\">\n  </div>\n</template>\n\n<script>\nimport {\n  mxToolbar as MxToolbar,\n  mxGraphModel as MxGraphModel,\n  mxGraph as MxGraph,\n  mxCell as MxCell,\n  mxGeometry as MxGeometry,\n  mxEvent as MxEvent,\n  mxUtils as MxUtils\n} from 'mxgraph/javascript/mxClient'\n\nexport default {\n  name: 'HelloWorld',\n  data() {\n    return {\n      model: null,\n      graph: null\n    }\n  },\n  methods: {\n    addToolbarItem(graph, toolbar, prototype, image) {\n      let funct = function (graph, evt, cell, x, y) {\n        graph.stopEditing(false)\n        let vertex = graph.getModel().cloneCell(prototype)\n\n        vertex.geometry.x = x\n        vertex.geometry.y = y\n\n        graph.addCell(vertex)\n        graph.setSelectionCell(vertex)\n      }\n      let img = toolbar.addMode(null, image, function (evt, cell) {\n        let pt = this.graph.getPointForEvent(evt)\n\n        funct(graph, evt, cell, pt.x, pt.y)\n      })\n\n      MxEvent.addListener(img, 'mousedown', function (evt) {\n        if (img.enabled === false) {\n          MxEvent.consume(evt)\n        }\n      })\n      MxUtils.makeDraggable(img, graph, funct)\n      return img\n    }\n  },\n  mounted() {\n    // 创建一个div作为toolbar的容器\n    let tbContainer = document.createElement('div')\n\n    tbContainer.style.position = 'absolute'\n    tbContainer.style.overflow = 'hidden'\n    tbContainer.style.padding = '2px'\n    tbContainer.style.left = '0px'\n    tbContainer.style.top = '0px'\n    tbContainer.style.width = '24px'\n    tbContainer.style.bottom = '0px'\n    this.$refs.container.appendChild(tbContainer)\n    // 创建一个mxToolbar\n    let toolbar = new MxToolbar(tbContainer)\n\n    toolbar.enabled = false\n    // 创建一个div作为graph的容器\n    let container = document.createElement('div')\n\n    container.style.position = 'absolute'\n    container.style.overflow = 'hidden'\n    container.style.left = '24px'\n    container.style.top = '0px'\n    container.style.right = '0px'\n    container.style.bottom = '0px'\n    container.style.background = 'url(\"./mxgraph/images/grid.gif\")'\n    this.$refs.container.appendChild(container)\n    this.model = new MxGraphModel()\n    this.graph = new MxGraph(container, this.model)\n    this.graph.setConnectable(true)\n    this.graph.setMultigraph(false)\n\n    let addVertex = (icon, w, h, style) => {\n      let vertex = new MxCell(null, new MxGeometry(0, 0, w, h), style)\n\n      vertex.setVertex(true)\n      let img = this.addToolbarItem(this.graph, toolbar, vertex, icon)\n\n      img.enabled = true\n      this.graph.getSelectionModel().addListener(MxEvent.CHANGE, () => {\n        let tmp = this.graph.isSelectionEmpty()\n\n        MxUtils.setOpacity(img, (tmp) ? 100 : 20)\n        img.enabled = tmp\n      })\n    }\n\n    addVertex('./mxgraph/images/rectangle.gif', 100, 40, '')\n    addVertex('./mxgraph/images/rounded.gif', 100, 40, 'shape=rounded')\n    addVertex('./mxgraph/images/ellipse.gif', 40, 40, 'shape=ellipse')\n    addVertex('./mxgraph/images/rhombus.gif', 40, 40, 'shape=rhombus')\n    addVertex('./mxgraph/images/triangle.gif', 40, 40, 'shape=triangle')\n    addVertex('./mxgraph/images/cylinder.gif', 40, 40, 'shape=cylinder')\n    addVertex('./mxgraph/images/actor.gif', 30, 40, 'shape=actor')\n  }\n}\n</script>\n\n<style scoped>\n.m_graph_container {\n  height: 100%;\n  width: 100%;\n}\n</style>\n","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./toolbar.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./toolbar.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./toolbar.vue?vue&type=template&id=50407f35&scoped=true&\"\nimport script from \"./toolbar.vue?vue&type=script&lang=js&\"\nexport * from \"./toolbar.vue?vue&type=script&lang=js&\"\nimport style0 from \"./toolbar.vue?vue&type=style&index=0&id=50407f35&scoped=true&lang=css&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"50407f35\",\n  null\n  \n)\n\nexport default component.exports","import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./toolbar.vue?vue&type=style&index=0&id=50407f35&scoped=true&lang=css&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--6-oneOf-1-0!../../../node_modules/css-loader/index.js??ref--6-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--6-oneOf-1-2!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./toolbar.vue?vue&type=style&index=0&id=50407f35&scoped=true&lang=css&\""],"sourceRoot":""}