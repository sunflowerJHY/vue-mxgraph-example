{"version":3,"sources":["webpack:///./src/views/example/edgeStyle/edgeStyle.vue?bf28","webpack:///./src/views/example/edgeStyle/changeStatusDialog.vue?9e75","webpack:///src/views/example/edgeStyle/changeStatusDialog.vue","webpack:///./src/views/example/edgeStyle/changeStatusDialog.vue?3d22","webpack:///./src/views/example/edgeStyle/changeStatusDialog.vue","webpack:///src/views/example/edgeStyle/edgeStyle.vue","webpack:///./src/views/example/edgeStyle/edgeStyle.vue?08de","webpack:///./src/views/example/edgeStyle/edgeStyle.vue","webpack:///./node_modules/core-js/modules/es6.string.includes.js","webpack:///./node_modules/core-js/library/modules/es6.reflect.define-property.js","webpack:///./node_modules/core-js/modules/_fails-is-regexp.js","webpack:///./node_modules/core-js/modules/es7.array.includes.js","webpack:///./node_modules/@babel/runtime-corejs2/core-js/reflect/define-property.js","webpack:///./node_modules/core-js/modules/es6.function.name.js","webpack:///./node_modules/core-js/library/fn/reflect/define-property.js","webpack:///./node_modules/core-js/modules/_is-regexp.js","webpack:///./node_modules/core-js/modules/web.dom.iterable.js","webpack:///./node_modules/core-js/modules/_string-context.js","webpack:///./src/views/example/edgeStyle/edgeStyle.vue?e623"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","_l","Object","keys","status","key","_v","_s","style","background","item","ref","refInFor","staticRenderFns","changeStatusDialogvue_type_template_id_30aef8c8_scoped_true_render","attrs","title","visible","dialogVisible","width","R","isNil","mCell","_e","model","value","callback","$$v","mStatus","expression","label","slot","on","click","$event","type","confirm","changeStatusDialogvue_type_template_id_30aef8c8_scoped_true_staticRenderFns","changeStatusDialogvue_type_script_lang_js_","name","data","methods","openDialog","cell","_this","$nextTick","edgeStyle_changeStatusDialogvue_type_script_lang_js_","component","componentNormalizer","changeStatusDialog","edgeStylevue_type_script_lang_js_","components","ChangeStatusDialog","rubberBand","success","waiting","running","failed","default","toolbarItems","defaultStatus","OptionalStatus","statusMap","setEdgeColor","edge","color","prop","graph","view","getState","styleStr","forEachObjIndexed","concat","setStyle","refresh","createGraph","mxClient","$refs","container","initGraph","setConnectable","setCellsEditable","setAllowDanglingEdges","setConnectableEdges","convertValueToString","addListener","DOUBLE_CLICK","evt","pathOr","equals","dialog","connectionHandler","validateConnection","source","target","sourceName","targetName","Array","length","CONNECT","sender","getProperty","targetStatus","edges","filter","propEq","propOr","nodeStatus","map","path","includes","makeItemDraggable","_this2","domArray","dragItem","forEach","dom","domIndex","toolItem","dragHandler","x","y","instanceGraph","createDragPreview","elt","document","createElement","border","height","makeDraggable","changeStatusHandler","_this3","nextCell","nextCellType","lastCell","lastCellType","parent","getDefaultParent","getModel","beginUpdate","vertex","insertVertex","customerOptionalStatus","customerName","customerTitle","customer","define_property_default","set","get","endUpdate","mounted","edgeStyle_edgeStylevue_type_script_lang_js_","edgeStyle_component","__webpack_exports__","$export","__webpack_require__","context","INCLUDES","P","F","searchString","indexOf","arguments","undefined","dP","anObject","toPrimitive","S","Reflect","defineProperty","f","propertyKey","attributes","e","MATCH","module","exports","KEY","re","$includes","el","FProto","Function","prototype","nameRE","NAME","configurable","match","isObject","cof","it","isRegExp","$iterators","getKeys","redefine","global","hide","Iterators","wks","ITERATOR","TO_STRING_TAG","ArrayValues","DOMIterables","CSSRuleList","CSSStyleDeclaration","CSSValueList","ClientRectList","DOMRectList","DOMStringList","DOMTokenList","DataTransferItemList","FileList","HTMLAllCollection","HTMLCollection","HTMLFormElement","HTMLSelectElement","MediaList","MimeTypeArray","NamedNodeMap","NodeList","PaintRequestList","Plugin","PluginArray","SVGLengthList","SVGNumberList","SVGPathSegList","SVGPointList","SVGStringList","SVGTransformList","SourceBufferList","StyleSheetList","TextTrackCueList","TextTrackList","TouchList","collections","i","explicit","Collection","proto","defined","that","TypeError","String","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_edgeStyle_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0__","_node_modules_mini_css_extract_plugin_dist_loader_js_ref_8_oneOf_1_0_node_modules_css_loader_index_js_ref_8_oneOf_1_1_node_modules_vue_loader_lib_loaders_stylePostLoader_js_node_modules_postcss_loader_src_index_js_ref_8_oneOf_1_2_node_modules_sass_loader_dist_cjs_js_ref_8_oneOf_1_3_node_modules_cache_loader_dist_cjs_js_ref_0_0_node_modules_vue_loader_lib_index_js_vue_loader_options_edgeStyle_vue_vue_type_style_index_0_lang_scss___WEBPACK_IMPORTED_MODULE_0___default","n"],"mappings":"yHAAA,IAAAA,EAAA,WAA0B,IAAAC,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,OAAiBE,YAAA,sBAAiC,CAAAF,EAAA,OAAYE,YAAA,mBAA8B,CAAAF,EAAA,KAAAJ,EAAAO,GAAAC,OAAAC,KAAAT,EAAAU,QAAA,SAAAC,GAAyD,OAAAP,EAAA,MAAgBO,OAAQ,CAAAX,EAAAY,GAAA,aAAAZ,EAAAa,GAAAF,GAAA,cAAAP,EAAA,OAA0DE,YAAA,cAAAQ,MAAA,CAAkCC,WAAAf,EAAAU,OAAAC,UAAmC,KAAAP,EAAA,OAAiBE,YAAA,oBAA+B,CAAAF,EAAA,KAAAJ,EAAAO,GAAAP,EAAA,sBAAAgB,GAAmD,OAAAZ,EAAA,MAAgBO,IAAAK,EAAA,QAAAC,IAAA,WAAAC,UAAA,GAA8C,CAAAlB,EAAAY,GAAA,aAAAZ,EAAAa,GAAAG,EAAA,0BAA0D,KAAAZ,EAAA,OAAiBa,IAAA,YAAAX,YAAA,mBAA6CF,EAAA,wBAA6Ba,IAAA,YAAa,IACxsBE,EAAA,8ECDIC,EAAM,WAAgB,IAAApB,EAAAC,KAAaC,EAAAF,EAAAG,eAA0BC,EAAAJ,EAAAK,MAAAD,IAAAF,EAAwB,OAAAE,EAAA,aAAuBiB,MAAA,CAAOC,MAAA,OAAAC,QAAAvB,EAAAwB,cAAAC,MAAA,QAA0D,CAAAzB,EAAA0B,EAAAC,MAAA3B,EAAA4B,OAA+R5B,EAAA6B,KAA/R,CAAAzB,EAAA,kBAAkD0B,MAAA,CAAOC,MAAA/B,EAAA,QAAAgC,SAAA,SAAAC,GAA6CjC,EAAAkC,QAAAD,GAAgBE,WAAA,YAAuBnC,EAAAO,GAAAP,EAAA4B,MAAA,mCAAAlB,GAA+D,OAAAN,EAAA,YAAsBO,IAAAD,EAAAW,MAAA,CAAkBe,MAAA1B,IAAgB,CAAAV,EAAAY,GAAAZ,EAAAa,GAAAH,QAA2B,IAAAN,EAAA,QAA0BE,YAAA,gBAAAe,MAAA,CAAmCgB,KAAA,UAAgBA,KAAA,UAAe,CAAAjC,EAAA,aAAkBkC,GAAA,CAAIC,MAAA,SAAAC,GAAyBxC,EAAAwB,eAAA,KAA4B,CAAAxB,EAAAY,GAAA,SAAAR,EAAA,aAAkCiB,MAAA,CAAOoB,KAAA,WAAiBH,GAAA,CAAKC,MAAAvC,EAAA0C,UAAqB,CAAA1C,EAAAY,GAAA,kBACvsB+B,EAAe,GCcnBC,EAAA,CACAC,KAAA,qBACAC,KAFA,WAGA,OACAtB,eAAA,EACAI,MAAA,KACAM,QAAA,KAGAa,QAAA,CACAC,WADA,SACAC,GAAA,IAAAC,EAAAjD,KACAA,KAAA2B,MAAAqB,EACAhD,KAAAuB,eAAA,EACAvB,KAAAkD,UAAA,WACAD,EAAAhB,QAAAe,EAAA,qBAGAP,QARA,WASAzC,KAAA2B,MAAA,kBAAA3B,KAAAiC,QACAjC,KAAAuB,eAAA,KClC0X4B,EAAA,cCO1XC,EAAgB7C,OAAA8C,EAAA,KAAA9C,CACd4C,EACAhC,EACAuB,GACF,EACA,KACA,WACA,MAIeY,EAAAF,UCafG,EAAA,CACAX,KAAA,YACAY,WAAA,CAAAC,mBAAAH,GACAT,KAHA,WAIA,OACAa,WAAA,KACAjD,OAAA,CACAkD,QAAA,UACAC,QAAA,UACAC,QAAA,UACAC,OAAA,UACAC,QAAA,WAEAC,aAAA,CACA,CAAApB,KAAA,QAAAvB,MAAA,OAAA4C,cAAA,WACA,CAAArB,KAAA,MAAAvB,MAAA,OAAA4C,cAAA,WACA,CACArB,KAAA,OACAvB,MAAA,OACA4C,cAAA,UACAC,eAAA,0CAEA,CAAAtB,KAAA,WAAAvB,MAAA,OAAA4C,cAAA,WACA,CAAArB,KAAA,SAAAvB,MAAA,OAAA4C,cAAA,WACA,CAAArB,KAAA,cAAAvB,MAAA,OAAA4C,cAAA,YAEAE,UAAA,KAGArB,QAAA,CACAsB,aADA,SACAC,EAAAC,GACA,IAAAzD,EAAAb,KAAAyB,EAAA8C,KAAA,QAAAvE,KAAAwE,MAAAC,KAAAC,SAAAL,GAAA,IAEAxD,EAAA,eAAAyD,EACA,IAAAK,EAAA,GAEA3E,KAAAyB,EAAAmD,kBAAA,SAAA9C,EAAApB,GACAiE,GAAA,GAAAE,OAAAnE,EAAA,KAAAmE,OAAA/C,EAAA,MACAjB,GACAwD,EAAAS,SAAAH,GACA3E,KAAAwE,MAAAO,QAAAV,IAEAW,YAbA,WAcAhF,KAAAwE,MAAA,IAAAS,EAAA,WAAAjF,KAAAkF,MAAAC,WACAnF,KAAAkF,MAAAC,UAAAtE,MAAAC,WAAA,oCAEAsE,UAjBA,WAiBA,IAAAnC,EAAAjD,KACAA,KAAAyB,EAAAC,MAAA1B,KAAAwE,SAGAxE,KAAA0D,WAAA,IAAAuB,EAAA,gBAAAjF,KAAAwE,OAEAxE,KAAAwE,MAAAa,gBAAA,GACArF,KAAAwE,MAAAc,kBAAA,GACAtF,KAAAwE,MAAAe,uBAAA,GACAvF,KAAAwE,MAAAgB,qBAAA,GACAxF,KAAAwE,MAAAiB,qBAAA,SAAAzC,GACA,OAAAC,EAAAxB,EAAA8C,KAAA,gBAAAvB,IAEAhD,KAAAwE,MAAAkB,YAAAT,EAAA,WAAAU,aAAA,SAAAnB,EAAAoB,GACA,IAAA5C,EAAAC,EAAAxB,EAAAoE,OAAA,yBAAAD,GAEA3C,EAAAxB,EAAAqE,OAAA,OAAA9C,EAAA,kBACAC,EAAAiC,MAAAa,OAAAhD,WAAAC,KAGAhD,KAAAwE,MAAAwB,kBAAAC,mBAAA,SAAAC,EAAAC,GACA,IAAAC,EAAAF,EAAA,gBACAG,EAAAF,EAAA,gBAEA,OAAAD,IAAAC,KAGAlD,EAAAxB,EAAAqE,OAAA,MAAAM,MAGAnD,EAAAxB,EAAAqE,OAAA,QAAAO,OAGApD,EAAAxB,EAAAqE,OAAA,WAAAO,MAAAF,EAAA,mBAAAG,OAAAH,EAAA,SAAAI,QAAA,GAAAtD,EAAAxB,EAAAqE,OAAA,QAAAM,SAGAnD,EAAAxB,EAAAqE,OAAA,SAAAO,KAAApD,EAAAxB,EAAAqE,OAAA,QAAAM,QAGAnD,EAAAxB,EAAAqE,OAAA,cAAAO,KAAApD,EAAAxB,EAAAqE,OAAA,QAAAM,KAGA,WAEApG,KAAAwE,MAAAwB,kBAAAN,YAAAT,EAAA,WAAAuB,QAAA,SAAAC,EAAAb,GACA,IAAAvB,EAAAuB,EAAAc,YAAA,QACAR,EAAA7B,EAAA,UACA8B,EAAA9B,EAAA,UACA5D,EAAAyF,EAAA,6BACAE,EAAAF,EAAA,gBACAG,EAAAF,EAAA,gBAIA,GAFAlD,EAAAmB,aAAAC,EAAApB,EAAAxC,WAEA,WAAA2F,EAAA,CACA,IAAAO,EAAA,YAAAR,EAAA,+BAAAA,EAAA,sCAEAlD,EAAAmB,aAAAC,EAAApB,EAAAxC,OAAAkG,IAEA,mBAAAN,EAAA,CACA,IAAAO,EAAA3D,EAAAxB,EAAAoF,OAAA5D,EAAAxB,EAAAqF,OAAA,SAAAX,GAAAlD,EAAAxB,EAAAsF,OAAA,WAAAZ,IACAa,EAAA/D,EAAAxB,EAAAwF,IAAAhE,EAAAxB,EAAAyF,KAAA,6BAAAN,GAEA3D,EAAAxB,EAAA0F,SAAA,UAAAH,IAAA/D,EAAAxB,EAAA0F,SAAA,SAAAH,GACAb,EAAA,4BAEAA,EAAA,iCAKAiB,kBAxFA,WAwFA,IAAAC,EAAArH,KACAA,KAAAkD,UAAA,WACA,IAAAoE,EAAAD,EAAAnC,MAAAqC,WAEAD,aAAAhB,QAAAgB,EAAAf,QAAA,GAAAc,EAAA5F,EAAAC,MAAA2F,EAAA7C,QAGA8C,EAAAE,QAAA,SAAAC,EAAAC,GACA,IAAAC,EAAAN,EAAArD,aAAA0D,GACAE,EAAA,SAAApD,EAAAoB,EAAA5C,EAAA6E,EAAAC,GACAT,EAAAU,cAAAJ,EAAAE,EAAAC,IAEAE,EAAA,WACA,IAAAC,EAAAC,SAAAC,cAAA,OAKA,OAHAF,EAAApH,MAAAuH,OAAA,mBACAH,EAAApH,MAAAW,MAAA,OACAyG,EAAApH,MAAAwH,OAAA,OACAJ,GAGAhD,EAAA,WAAAqD,cAAAb,EAAAJ,EAAA7C,MAAAoD,EAAAI,IAAA,gBAIAO,oBAjHA,SAiHAvF,GAAA,IAAAwF,EAAAxI,KACAS,EAAAuC,EAAA,kBAEAhD,KAAAyB,EAAAsF,OAAA,WAAA/D,GAAAwE,QAAA,SAAAnD,GACA,GAAAA,EAAA,YAAArB,EAAA,CACAwF,EAAApE,aAAAC,EAAAmE,EAAA/H,WAEA,IAAAgI,EAAApE,EAAA,UACAqE,EAAAD,EAAA,gBAYA,GATAD,EAAA/G,EAAAqE,OAAA,OAAA4C,KACA,WAAAjI,IACAgI,EAAA,4BAEA,YAAAhI,GAAA,YAAAA,IACAgI,EAAA,8BAIAD,EAAA/G,EAAAqE,OAAA,cAAA4C,GAAA,CACA,IAAA9B,EAAA4B,EAAA/G,EAAAoF,OAAA2B,EAAA/G,EAAAqF,OAAA,SAAA2B,GAAAD,EAAA/G,EAAAsF,OAAA,WAAA0B,IACAzB,EAAAwB,EAAA/G,EAAAwF,IAAAuB,EAAA/G,EAAAyF,KAAA,6BAAAN,GAEA4B,EAAA/G,EAAA0F,SAAA,UAAAH,IAAAwB,EAAA/G,EAAA0F,SAAA,SAAAH,GACAyB,EAAA,4BAEAA,EAAA,4BAIAD,EAAA/G,EAAAqE,OAAA,WAAA4C,KAEAD,EAAA,kBADA,YAAAhI,EACA,UAEAA,OAGA,CACA,IAAAkI,EAAAtE,EAAA,UACAuE,EAAAD,EAAA,gBAGAH,EAAA/G,EAAAqE,OAAA,SAAA8C,IACAJ,EAAApE,aAAAC,EAAAmE,EAAA/H,OAAA,YAAAA,GAAA,YAAAA,EAAA,0BAKAsH,cAlKA,SAkKAJ,EAAAE,EAAAC,GACA,IAAAe,EAAA7I,KAAAwE,MAAAsE,mBAEA9I,KAAAwE,MAAAuE,WAAAC,cACA,IACA,IAAA7E,EAAAnE,KAAAmE,UACA8E,EAAAjJ,KAAAwE,MAAA0E,aAAAL,EAAA,UAAAhB,EAAAC,EAAA,UACAS,EAAAvI,KAAAuI,oBAEAU,EAAAE,uBAAAxB,EAAA,kBACAsB,EAAAG,aAAAzB,EAAA,QACAsB,EAAAI,cAAA1B,EAAA,SACAxD,EAAA8E,EAAA,OAAAtB,EAAA,iBACAsB,EAAAK,UAAA,EAEQC,IAARN,EAAA,kBACAO,IADA,SACA1H,GACAqC,EAAA8E,EAAA,OAAAnH,EACAyG,EAAAU,IAEAQ,IALA,WAMA,OAAAtF,EAAA8E,EAAA,UAjBA,QAqBAjJ,KAAAwE,MAAAuE,WAAAW,eAIAC,QA5NA,WA6NA3J,KAAAgF,cACAhF,KAAAoF,YACApF,KAAAoH,sBC9PiXwC,EAAA,ECQ7WC,aAAYtJ,OAAA8C,EAAA,KAAA9C,CACdqJ,EACA9J,EACAoB,GACF,EACA,KACA,KACA,OAIe4I,EAAA,WAAAD,+CCjBf,IAAAE,EAAcC,EAAQ,QACtBC,EAAcD,EAAQ,QACtBE,EAAA,WAEAH,IAAAI,EAAAJ,EAAAK,EAAgCJ,EAAQ,OAARA,CAA4BE,GAAA,UAC5D/C,SAAA,SAAAkD,GACA,SAAAJ,EAAAjK,KAAAqK,EAAAH,GACAI,QAAAD,EAAAE,UAAAhE,OAAA,EAAAgE,UAAA,QAAAC,8BCRA,IAAAC,EAAST,EAAQ,QACjBD,EAAcC,EAAQ,QACtBU,EAAeV,EAAQ,QACvBW,EAAkBX,EAAQ,QAG1BD,IAAAa,EAAAb,EAAAK,EAAgCJ,EAAQ,OAARA,CAAkB,WAElDa,QAAAC,eAAAL,EAAAM,EAAA,GAAgC,GAAMjJ,MAAA,IAAW,GAAOA,MAAA,MACvD,WACDgJ,eAAA,SAAA3E,EAAA6E,EAAAC,GACAP,EAAAvE,GACA6E,EAAAL,EAAAK,GAAA,GACAN,EAAAO,GACA,IAEA,OADAR,EAAAM,EAAA5E,EAAA6E,EAAAC,IACA,EACK,MAAAC,GACL,mCCnBA,IAAAC,EAAYnB,EAAQ,OAARA,CAAgB,SAC5BoB,EAAAC,QAAA,SAAAC,GACA,IAAAC,EAAA,IACA,IACA,MAAAD,GAAAC,GACG,MAAAL,GACH,IAEA,OADAK,EAAAJ,IAAA,GACA,MAAAG,GAAAC,GACK,MAAAR,KACF,sECRH,IAAAhB,EAAcC,EAAQ,QACtBwB,EAAgBxB,EAAQ,OAARA,EAA2B,GAE3CD,IAAAI,EAAA,SACAhD,SAAA,SAAAsE,GACA,OAAAD,EAAAxL,KAAAyL,EAAAlB,UAAAhE,OAAA,EAAAgE,UAAA,QAAAC,MAIAR,EAAQ,OAARA,CAA+B,oCCX/BoB,EAAAC,QAAiBrB,EAAQ,gCCAzB,IAAAS,EAAST,EAAQ,QAAce,EAC/BW,EAAAC,SAAAC,UACAC,EAAA,wBACAC,EAAA,OAGAA,KAAAJ,GAAkB1B,EAAQ,SAAgBS,EAAAiB,EAAAI,EAAA,CAC1CC,cAAA,EACAtC,IAAA,WACA,IACA,UAAAzJ,MAAAgM,MAAAH,GAAA,GACK,MAAAX,GACL,mCCZAlB,EAAQ,QACRoB,EAAAC,QAAiBrB,EAAQ,QAAqBa,QAAAC,qCCA9C,IAAAmB,EAAejC,EAAQ,QACvBkC,EAAUlC,EAAQ,QAClBmB,EAAYnB,EAAQ,OAARA,CAAgB,SAC5BoB,EAAAC,QAAA,SAAAc,GACA,IAAAC,EACA,OAAAH,EAAAE,UAAA3B,KAAA4B,EAAAD,EAAAhB,MAAAiB,EAAA,UAAAF,EAAAC,2BCuCA,IA7CA,IAAAE,EAAiBrC,EAAQ,QACzBsC,EAActC,EAAQ,QACtBuC,EAAevC,EAAQ,QACvBwC,EAAaxC,EAAQ,QACrByC,EAAWzC,EAAQ,QACnB0C,EAAgB1C,EAAQ,QACxB2C,EAAU3C,EAAQ,QAClB4C,EAAAD,EAAA,YACAE,EAAAF,EAAA,eACAG,EAAAJ,EAAApG,MAEAyG,EAAA,CACAC,aAAA,EACAC,qBAAA,EACAC,cAAA,EACAC,gBAAA,EACAC,aAAA,EACAC,eAAA,EACAC,cAAA,EACAC,sBAAA,EACAC,UAAA,EACAC,mBAAA,EACAC,gBAAA,EACAC,iBAAA,EACAC,mBAAA,EACAC,WAAA,EACAC,eAAA,EACAC,cAAA,EACAC,UAAA,EACAC,kBAAA,EACAC,QAAA,EACAC,aAAA,EACAC,eAAA,EACAC,eAAA,EACAC,gBAAA,EACAC,cAAA,EACAC,eAAA,EACAC,kBAAA,EACAC,kBAAA,EACAC,gBAAA,EACAC,kBAAA,EACAC,eAAA,EACAC,WAAA,GAGAC,EAAAzC,EAAAS,GAAAiC,EAAA,EAAoDA,EAAAD,EAAAxI,OAAwByI,IAAA,CAC5E,IAIAtO,EAJAoL,EAAAiD,EAAAC,GACAC,EAAAlC,EAAAjB,GACAoD,EAAA1C,EAAAV,GACAqD,EAAAD,KAAAtD,UAEA,GAAAuD,IACAA,EAAAvC,IAAAH,EAAA0C,EAAAvC,EAAAE,GACAqC,EAAAtC,IAAAJ,EAAA0C,EAAAtC,EAAAf,GACAY,EAAAZ,GAAAgB,EACAmC,GAAA,IAAAvO,KAAA2L,EAAA8C,EAAAzO,IAAA6L,EAAA4C,EAAAzO,EAAA2L,EAAA3L,IAAA,0BCtDA,IAAA0L,EAAepC,EAAQ,QACvBoF,EAAcpF,EAAQ,QAEtBoB,EAAAC,QAAA,SAAAgE,EAAAhF,EAAAyB,GACA,GAAAM,EAAA/B,GAAA,MAAAiF,UAAA,UAAAxD,EAAA,0BACA,OAAAyD,OAAAH,EAAAC,wCCNA,IAAAG,EAAAxF,EAAA,QAAAyF,EAAAzF,EAAA0F,EAAAF,GAAqjBC,EAAG","file":"js/chunk-7ab2a341.c67ead3d.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"edgeStyleContainer\"},[_c('div',{staticClass:\"legendContainer\"},[_c('ul',_vm._l((Object.keys(_vm.status)),function(key){return _c('li',{key:key},[_vm._v(\"\\n        \"+_vm._s(key)+\"\\n        \"),_c('div',{staticClass:\"legendColor\",style:({ background: _vm.status[key]})})])}),0)]),_c('div',{staticClass:\"toolbarContainer\"},[_c('ul',_vm._l((_vm.toolbarItems),function(item){return _c('li',{key:item['name'],ref:\"dragItem\",refInFor:true},[_vm._v(\"\\n        \"+_vm._s(item['title'])+\"\\n      \")])}),0)]),_c('div',{ref:\"container\",staticClass:\"graphContainer\"}),_c('change-status-dialog',{ref:\"dialog\"})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('el-dialog',{attrs:{\"title\":\"改变状态\",\"visible\":_vm.dialogVisible,\"width\":\"30%\"}},[(!_vm.R.isNil(_vm.mCell))?[_c('el-radio-group',{model:{value:(_vm.mStatus),callback:function ($$v) {_vm.mStatus=$$v},expression:\"mStatus\"}},_vm._l((_vm.mCell['customerOptionalStatus']),function(status){return _c('el-radio',{key:status,attrs:{\"label\":status}},[_vm._v(_vm._s(status))])}),1)]:_vm._e(),_c('span',{staticClass:\"dialog-footer\",attrs:{\"slot\":\"footer\"},slot:\"footer\"},[_c('el-button',{on:{\"click\":function($event){_vm.dialogVisible = false}}},[_vm._v(\"取 消\")]),_c('el-button',{attrs:{\"type\":\"primary\"},on:{\"click\":_vm.confirm}},[_vm._v(\"确 定\")])],1)],2)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n  <el-dialog title=\"改变状态\" :visible=\"dialogVisible\" width=\"30%\">\n    <template v-if=\"!R.isNil(mCell)\">\n      <el-radio-group v-model=\"mStatus\">\n        <el-radio v-for=\"status in mCell['customerOptionalStatus']\" :key=\"status\" :label=\"status\">{{status}}</el-radio>\n      </el-radio-group>\n    </template>\n    <span slot=\"footer\" class=\"dialog-footer\">\n    <el-button @click=\"dialogVisible = false\">取 消</el-button>\n    <el-button type=\"primary\" @click=\"confirm\">确 定</el-button>\n  </span>\n  </el-dialog>\n</template>\n\n<script>\nexport default {\n  name: 'changeStatusDialog',\n  data() {\n    return {\n      dialogVisible: false,\n      mCell: null,\n      mStatus: ''\n    }\n  },\n  methods: {\n    openDialog(cell) {\n      this.mCell = cell\n      this.dialogVisible = true\n      this.$nextTick(() => {\n        this.mStatus = cell['customerStatus']\n      })\n    },\n    confirm() {\n      this.mCell['customerStatus'] = this.mStatus\n      this.dialogVisible = false\n    }\n  }\n}\n</script>\n\n<style scoped>\n\n</style>\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./changeStatusDialog.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./changeStatusDialog.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./changeStatusDialog.vue?vue&type=template&id=30aef8c8&scoped=true&\"\nimport script from \"./changeStatusDialog.vue?vue&type=script&lang=js&\"\nexport * from \"./changeStatusDialog.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"30aef8c8\",\n  null\n  \n)\n\nexport default component.exports","<template>\n  <div class=\"edgeStyleContainer\">\n    <div class=\"legendContainer\">\n      <ul>\n        <li v-for=\"key in Object.keys(status)\" :key=\"key\">\n          {{key}}\n          <div class=\"legendColor\" :style=\"{ background: status[key]}\"></div>\n        </li>\n      </ul>\n    </div>\n    <div class=\"toolbarContainer\">\n      <ul>\n        <li v-for=\"item in toolbarItems\" :key=\"item['name']\" ref=\"dragItem\">\n          {{item['title']}}\n        </li>\n      </ul>\n    </div>\n    <div class=\"graphContainer\" ref=\"container\"></div>\n    <change-status-dialog ref=\"dialog\"></change-status-dialog>\n  </div>\n</template>\n\n<script>\nimport {\n  mxGraph as MxGraph,\n  mxUtils as MxUtils,\n  mxEvent as MxEvent,\n  mxRubberband as MxRubberBand\n} from 'mxgraph/javascript/mxClient'\nimport ChangeStatusDialog from '@/views/example/edgeStyle/changeStatusDialog'\n\nexport default {\n  name: 'edgeStyle',\n  components: {ChangeStatusDialog},\n  data() {\n    return {\n      rubberBand: null,\n      status: {\n        success: '#008000',\n        waiting: '#808080',\n        running: '#0000ff',\n        failed: '#ff0000',\n        default: '#808080'\n      },\n      toolbarItems: [\n        {name: 'start', title: '开始节点', defaultStatus: 'success'},\n        {name: 'end', title: '结束节点', defaultStatus: 'success'},\n        {\n          name: 'node',\n          title: '普通节点',\n          defaultStatus: 'success',\n          OptionalStatus: ['success', 'waiting', 'running', 'failed']\n        },\n        {name: 'parallel', title: '并行节点', defaultStatus: 'success'},\n        {name: 'branch', title: '分支节点', defaultStatus: 'waiting'},\n        {name: 'Aggregation', title: '聚合节点', defaultStatus: 'success'}\n      ],\n      statusMap: {}\n    }\n  },\n  methods: {\n    setEdgeColor(edge, color) {\n      const style = this.R.prop('style', this.graph.view.getState(edge, true))\n\n      style['strokeColor'] = color\n      let styleStr = ''\n\n      this.R.forEachObjIndexed((value, key) => {\n        styleStr += `${key}=${value};`\n      }, style)\n      edge.setStyle(styleStr)\n      this.graph.refresh(edge)\n    },\n    createGraph() {\n      this.graph = new MxGraph(this.$refs.container)\n      this.$refs.container.style.background = 'url(\"./mxgraph/images/grid.gif\")'\n    },\n    initGraph() {\n      if (this.R.isNil(this.graph)) {\n        return\n      }\n      this.rubberBand = new MxRubberBand(this.graph)\n\n      this.graph.setConnectable(true)\n      this.graph.setCellsEditable(false)\n      this.graph.setAllowDanglingEdges(false)\n      this.graph.setConnectableEdges(false)\n      this.graph.convertValueToString = (cell) => {\n        return this.R.prop('customerTitle', cell)\n      }\n      this.graph.addListener(MxEvent.DOUBLE_CLICK, (graph, evt) => { // 监听双击事件\n        let cell = this.R.pathOr([], ['properties', 'cell'], evt)\n\n        if (this.R.equals('node', cell['customerName'])) {\n          this.$refs.dialog.openDialog(cell)\n        }\n      })\n      this.graph.connectionHandler.validateConnection = (source, target) => {\n        const sourceName = source['customerName']\n        const targetName = target['customerName']\n\n        if (source === target) {\n          return false\n        }\n        if (this.R.equals('end', sourceName)) {\n          return false\n        }\n        if (this.R.equals('start', targetName)) {\n          return false\n        }\n        if (this.R.equals('parallel', targetName) && ((target['edges'] instanceof Array && target['edges'].length >= 1) || this.R.equals('start', sourceName))) {\n          return false\n        }\n        if (this.R.equals('branch', targetName) && this.R.equals('start', sourceName)) {\n          return false\n        }\n        if (this.R.equals('Aggregation', targetName) && this.R.equals('start', sourceName)) {\n          return false\n        }\n        return null\n      }\n      this.graph.connectionHandler.addListener(MxEvent.CONNECT, (sender, evt) => {\n        const edge = evt.getProperty('cell')\n        const source = edge['source']\n        const target = edge['target']\n        const status = source['customerStatus'] || 'default'\n        const sourceName = source['customerName']\n        const targetName = target['customerName']\n\n        this.setEdgeColor(edge, this.status[status])\n\n        if (sourceName === 'branch') {\n          const targetStatus = ('success' === target['customerStatus'] || 'running' === target['customerStatus']) ? 'success' : 'waiting'\n\n          this.setEdgeColor(edge, this.status[targetStatus])\n        }\n        if (targetName === 'Aggregation') {\n          const edges = this.R.filter(this.R.propEq('target', target), this.R.propOr([], 'edges', target))\n          const nodeStatus = this.R.map(this.R.path(['source', 'customerStatus']), edges)\n\n          if (this.R.includes('waiting', nodeStatus) || this.R.includes('failed', nodeStatus)) {\n            target['customerStatus'] = 'waiting'\n          } else {\n            target['customerStatus'] = 'success'\n          }\n        }\n      })\n    },\n    makeItemDraggable() {\n      this.$nextTick(() => {\n        const domArray = this.$refs.dragItem\n\n        if (!(domArray instanceof Array) || domArray.length <= 0 || this.R.isNil(this.graph)) {\n          return\n        }\n        domArray.forEach((dom, domIndex) => {\n          const toolItem = this.toolbarItems[domIndex]\n          const dragHandler = (graph, evt, cell, x, y) => {\n            this.instanceGraph(toolItem, x, y)\n          }\n          const createDragPreview = () => {\n            const elt = document.createElement('div')\n\n            elt.style.border = '2px dotted black'\n            elt.style.width = '50px'\n            elt.style.height = '50px'\n            return elt\n          }\n\n          MxUtils.makeDraggable(dom, this.graph, dragHandler, createDragPreview(), 0, 0, false, true)\n        })\n      })\n    },\n    changeStatusHandler(cell) {\n      const status = cell['customerStatus']\n\n      this.R.propOr([], 'edges', cell).forEach((edge) => {\n        if (edge['source'] === cell) {\n          this.setEdgeColor(edge, this.status[status])\n\n          const nextCell = edge['target']\n          const nextCellType = nextCell['customerName']\n\n          // 下一个节点为普通节点\n          if (this.R.equals('node', nextCellType)) {\n            if ('failed' === status) {\n              nextCell['customerStatus'] = 'failed'\n            }\n            if ('waiting' === status || 'running' === status) {\n              nextCell['customerStatus'] = 'waiting'\n            }\n          }\n          // 下一个节点为聚合节点\n          if (this.R.equals('Aggregation', nextCellType)) {\n            const edges = this.R.filter(this.R.propEq('target', nextCell), this.R.propOr([], 'edges', nextCell))\n            const nodeStatus = this.R.map(this.R.path(['source', 'customerStatus']), edges)\n\n            if (this.R.includes('waiting', nodeStatus) || this.R.includes('failed', nodeStatus)) {\n              nextCell['customerStatus'] = 'waiting'\n            } else {\n              nextCell['customerStatus'] = 'success'\n            }\n          }\n          // 下一个节点为并行节点\n          if (this.R.equals('parallel', nextCellType)) {\n            if ('running' === status) {\n              nextCell['customerStatus'] = 'waiting'\n            } else {\n              nextCell['customerStatus'] = status\n            }\n          }\n        } else {\n          const lastCell = edge['source']\n          const lastCellType = lastCell['customerName']\n\n          // 上一个节点为分支节点\n          if (this.R.equals('branch', lastCellType)) {\n            this.setEdgeColor(edge, this.status[('success' === status || 'running' === status) ? 'success' : 'waiting'])\n          }\n        }\n      })\n    },\n    instanceGraph(toolItem, x, y) {\n      const parent = this.graph.getDefaultParent()\n\n      this.graph.getModel().beginUpdate()\n      try {\n        const statusMap = this.statusMap\n        const vertex = this.graph.insertVertex(parent, null, null, x, y, 50, 50, '')\n        const changeStatusHandler = this.changeStatusHandler\n\n        vertex.customerOptionalStatus = toolItem['OptionalStatus']\n        vertex.customerName = toolItem['name']\n        vertex.customerTitle = toolItem['title']\n        statusMap[vertex['id']] = toolItem['defaultStatus']\n        vertex.customer = true\n\n        Reflect.defineProperty(vertex, 'customerStatus', {\n          set(value) {\n            statusMap[vertex['id']] = value\n            changeStatusHandler(vertex)\n          },\n          get() {\n            return statusMap[vertex['id']]\n          }\n        })\n      } finally {\n        this.graph.getModel().endUpdate()\n      }\n    }\n  },\n  mounted() {\n    this.createGraph()\n    this.initGraph()\n    this.makeItemDraggable()\n  }\n}\n</script>\n\n<style lang=\"scss\">\n.edgeStyleContainer {\n  width: 100%;\n  height: 100%;\n  display: flex;\n\n  .legendContainer {\n    position: absolute;\n    top: 5%;\n    right: 5%;\n    z-index: 2;\n    background-color: #fff;\n\n    ul {\n      padding: 0;\n      margin: 0;\n\n      li {\n        list-style: none;\n\n        .legendColor{\n          display: inline-block;\n          width: 10px;\n          height: 10px;\n        }\n      }\n    }\n\n  }\n\n\n  .toolbarContainer {\n    flex: 1;\n    height: 100%;\n\n    ul {\n      padding-left: 0;\n\n      li {\n        font-weight: 600;\n        list-style: none;\n        margin-bottom: 5px;\n        cursor: pointer;\n        transition: all 0.5s;\n\n        &:hover {\n          background-color: #B4E1FF;\n        }\n      }\n    }\n  }\n\n  .graphContainer {\n    flex: 7;\n    height: 100%;\n  }\n}\n</style>\n\n","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edgeStyle.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edgeStyle.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./edgeStyle.vue?vue&type=template&id=21f82ca0&\"\nimport script from \"./edgeStyle.vue?vue&type=script&lang=js&\"\nexport * from \"./edgeStyle.vue?vue&type=script&lang=js&\"\nimport style0 from \"./edgeStyle.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports","// 21.1.3.7 String.prototype.includes(searchString, position = 0)\n'use strict';\nvar $export = require('./_export');\nvar context = require('./_string-context');\nvar INCLUDES = 'includes';\n\n$export($export.P + $export.F * require('./_fails-is-regexp')(INCLUDES), 'String', {\n  includes: function includes(searchString /* , position = 0 */) {\n    return !!~context(this, searchString, INCLUDES)\n      .indexOf(searchString, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n","// 26.1.3 Reflect.defineProperty(target, propertyKey, attributes)\nvar dP = require('./_object-dp');\nvar $export = require('./_export');\nvar anObject = require('./_an-object');\nvar toPrimitive = require('./_to-primitive');\n\n// MS Edge has broken Reflect.defineProperty - throwing instead of returning false\n$export($export.S + $export.F * require('./_fails')(function () {\n  // eslint-disable-next-line no-undef\n  Reflect.defineProperty(dP.f({}, 1, { value: 1 }), 1, { value: 2 });\n}), 'Reflect', {\n  defineProperty: function defineProperty(target, propertyKey, attributes) {\n    anObject(target);\n    propertyKey = toPrimitive(propertyKey, true);\n    anObject(attributes);\n    try {\n      dP.f(target, propertyKey, attributes);\n      return true;\n    } catch (e) {\n      return false;\n    }\n  }\n});\n","var MATCH = require('./_wks')('match');\nmodule.exports = function (KEY) {\n  var re = /./;\n  try {\n    '/./'[KEY](re);\n  } catch (e) {\n    try {\n      re[MATCH] = false;\n      return !'/./'[KEY](re);\n    } catch (f) { /* empty */ }\n  } return true;\n};\n","'use strict';\n// https://github.com/tc39/Array.prototype.includes\nvar $export = require('./_export');\nvar $includes = require('./_array-includes')(true);\n\n$export($export.P, 'Array', {\n  includes: function includes(el /* , fromIndex = 0 */) {\n    return $includes(this, el, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\nrequire('./_add-to-unscopables')('includes');\n","module.exports = require(\"core-js/library/fn/reflect/define-property\");","var dP = require('./_object-dp').f;\nvar FProto = Function.prototype;\nvar nameRE = /^\\s*function ([^ (]*)/;\nvar NAME = 'name';\n\n// 19.2.4.2 name\nNAME in FProto || require('./_descriptors') && dP(FProto, NAME, {\n  configurable: true,\n  get: function () {\n    try {\n      return ('' + this).match(nameRE)[1];\n    } catch (e) {\n      return '';\n    }\n  }\n});\n","require('../../modules/es6.reflect.define-property');\nmodule.exports = require('../../modules/_core').Reflect.defineProperty;\n","// 7.2.8 IsRegExp(argument)\nvar isObject = require('./_is-object');\nvar cof = require('./_cof');\nvar MATCH = require('./_wks')('match');\nmodule.exports = function (it) {\n  var isRegExp;\n  return isObject(it) && ((isRegExp = it[MATCH]) !== undefined ? !!isRegExp : cof(it) == 'RegExp');\n};\n","var $iterators = require('./es6.array.iterator');\nvar getKeys = require('./_object-keys');\nvar redefine = require('./_redefine');\nvar global = require('./_global');\nvar hide = require('./_hide');\nvar Iterators = require('./_iterators');\nvar wks = require('./_wks');\nvar ITERATOR = wks('iterator');\nvar TO_STRING_TAG = wks('toStringTag');\nvar ArrayValues = Iterators.Array;\n\nvar DOMIterables = {\n  CSSRuleList: true, // TODO: Not spec compliant, should be false.\n  CSSStyleDeclaration: false,\n  CSSValueList: false,\n  ClientRectList: false,\n  DOMRectList: false,\n  DOMStringList: false,\n  DOMTokenList: true,\n  DataTransferItemList: false,\n  FileList: false,\n  HTMLAllCollection: false,\n  HTMLCollection: false,\n  HTMLFormElement: false,\n  HTMLSelectElement: false,\n  MediaList: true, // TODO: Not spec compliant, should be false.\n  MimeTypeArray: false,\n  NamedNodeMap: false,\n  NodeList: true,\n  PaintRequestList: false,\n  Plugin: false,\n  PluginArray: false,\n  SVGLengthList: false,\n  SVGNumberList: false,\n  SVGPathSegList: false,\n  SVGPointList: false,\n  SVGStringList: false,\n  SVGTransformList: false,\n  SourceBufferList: false,\n  StyleSheetList: true, // TODO: Not spec compliant, should be false.\n  TextTrackCueList: false,\n  TextTrackList: false,\n  TouchList: false\n};\n\nfor (var collections = getKeys(DOMIterables), i = 0; i < collections.length; i++) {\n  var NAME = collections[i];\n  var explicit = DOMIterables[NAME];\n  var Collection = global[NAME];\n  var proto = Collection && Collection.prototype;\n  var key;\n  if (proto) {\n    if (!proto[ITERATOR]) hide(proto, ITERATOR, ArrayValues);\n    if (!proto[TO_STRING_TAG]) hide(proto, TO_STRING_TAG, NAME);\n    Iterators[NAME] = ArrayValues;\n    if (explicit) for (key in $iterators) if (!proto[key]) redefine(proto, key, $iterators[key], true);\n  }\n}\n","// helper for String#{startsWith, endsWith, includes}\nvar isRegExp = require('./_is-regexp');\nvar defined = require('./_defined');\n\nmodule.exports = function (that, searchString, NAME) {\n  if (isRegExp(searchString)) throw TypeError('String#' + NAME + \" doesn't accept regex!\");\n  return String(defined(that));\n};\n","import mod from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edgeStyle.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/index.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./edgeStyle.vue?vue&type=style&index=0&lang=scss&\""],"sourceRoot":""}